<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="boardMapper">

	<select id="lookupResult" resultMap="SearchResponseResult">
		SELECT WAYBILL_NUMBER, SE_NAME, RE_NAME, PRODUCT_NAME
		FROM AAA_DELIVERY_CHART
		WHERE WAYBILL_NUMBER = #{waybillNum}
	</select>
	
	<select id="lookupListResult" resultMap="SearchResponseListResult">
		SELECT DELIVERY_INFORMATION, TO_CHAR(JOIN_DATE,'yyyy/mm/dd hh24:mi:ss'), DELIVERY_LOCATION
		FROM AAA_DELIVERY_STATE
		WHERE WAYBILL_NUMBER = #{waybillNum}
		ORDER BY JOIN_DATE, DLNO
	</select>
	
	<resultMap type="SearchResponseVO" id="SearchResponseResult">
		<result property="waybillNum" column="WAYBILL_NUMBER"/>
		<result property="senderName" column="SE_NAME"/>
		<result property="receiverName" column="RE_NAME"/>
		<result property="productName" column="PRODUCT_NAME"/>
	</resultMap>
	<resultMap type="SearchResponseListVO" id="SearchResponseListResult">
		<result property="deliveryStep" column="DELIVERY_INFORMATION"/>
		<result property="processTime" column="JOIN_DATE"/>
		<result property="productStatus" column="DELIVERY_LOCATION"/>
	</resultMap>
</mapper>